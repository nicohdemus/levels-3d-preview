{"name":"Export to GLTF","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/wall-direction.svg","scope":"global","command":"game.Levels3DPreview.exporter.export()","folder":null,"sort":0,"permission":{"default":0,"yjDURLhSy6ZUAhtN":3,"Cspu3pxFr7tu7SU7":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.u6QVVpCXkQ8ez7jm"}},"_id":"DfdMdWjCoFCoGCFx"}
{"name":"Save Particle Effect to macro","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/magic/air/weather-clouds-rainbow.webp","scope":"global","command":"game.Levels3DPreview.weather.toMacro()","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"core":{"sourceId":"Macro.CMggoZiHsxjshdnK"}},"_id":"NtNBQufPESAsq9P9"}
{"name":"Fit Tile To Scene","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/mountain.svg","scope":"global","command":"const tile = canvas.activeLayer.controlled[0]\n\n  let newHeight = canvas.dimensions.sceneHeight;\n  let ratio = newHeight/tile.document.height;\n  let newWidth = tile.document.width * ratio;\n  if(newWidth > canvas.dimensions.sceneWidth){\n    ratio = canvas.dimensions.sceneWidth/tile.document.width;\n    newHeight = tile.document.height * ratio;\n    newWidth = canvas.dimensions.sceneWidth;\n  }\n  const newDepth = tile.document.getFlag(\"levels-3d-preview\", \"depth\") * ratio\n  const newX = canvas.dimensions.sceneX + (canvas.dimensions.sceneWidth - newWidth)/2;\n  const newY = canvas.dimensions.sceneY + (canvas.dimensions.sceneHeight - newHeight)/2;\n  tile.document.update({\n    x: newX,\n    y: newY,\n    width: newWidth,\n    height: newHeight,\n    flags: {\n      \"levels-3d-preview\": {\n        depth: newDepth\n      }\n    }\n  })","folder":null,"sort":0,"flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.u6QVVpCXkQ8ez7jm"}},"_id":"XwNCeTKfszISVPb3","ownership":{"default":0,"yjDURLhSy6ZUAhtN":3,"Cspu3pxFr7tu7SU7":3},"_stats":{"systemId":"dnd5e","systemVersion":"1.6.3","coreVersion":"10.275","createdTime":null,"modifiedTime":1658964476160,"lastModifiedBy":"CMsCEuXIEBbDODdz"}}
{"name":"Stretch Tile To Scene","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/cave.svg","scope":"global","command":"const tile = canvas.activeLayer.controlled[0]\ntile.document.update({\nwidth: canvas.scene.dimensions.sceneWidth,\nheight: canvas.scene.dimensions.sceneHeight,\nx: canvas.scene.dimensions.sceneX,\ny: canvas.scene.dimensions.sceneY\n})","folder":null,"sort":0,"flags":{"core":{"sourceId":"Macro.6iDSBrmnxuOfa4eA"}},"_id":"fnYKEFsph8h0yQVU","ownership":{"default":0,"Cspu3pxFr7tu7SU7":3},"_stats":{"systemId":"dnd5e","systemVersion":"1.6.3","coreVersion":"10.275","createdTime":null,"modifiedTime":1658964457246,"lastModifiedBy":"CMsCEuXIEBbDODdz"}}
{"name":"Remove all Shaders","type":"script","scope":"global","author":"CMsCEuXIEBbDODdz","img":"icons/svg/dice-target.svg","command":"const shaderData = {};\nObject.keys(game.Levels3DPreview.shaderHandler.shaderLib).forEach(k => shaderData[k] = {enabled: false})\nconst updates = []\ncanvas.activeLayer.controlled.forEach(o => updates.push({_id:o.id, flags:{\"levels-3d-preview\": {shaders: shaderData}}}))\n\ncanvas.scene.updateEmbeddedDocuments(canvas.activeLayer.options.objectClass.embeddedName, updates)","ownership":{"default":2,"CMsCEuXIEBbDODdz":3},"flags":{"socketmacros":{"isSocket":true},"core":{"sourceId":"Macro.g6Bz4bZi0dPlxRgo"}},"_stats":{"systemId":"dnd5e","systemVersion":"1.6.3","coreVersion":"10.275","createdTime":1658964427162,"modifiedTime":1658964427162,"lastModifiedBy":"CMsCEuXIEBbDODdz"},"folder":null,"sort":0,"_id":"fwleomsHIOtSyCob"}
{"name":"Change All Doors Texture","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/door-closed-outline.svg","scope":"global","command":"const texturePath = \"\";\nif(!texturePath) return;\ncanvas.walls.updateAll( {\"flags.levels-3d-preview.wallTexture\" : texturePath} , (w)=> w.isDoor)","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"socketmacros":{"isSocket":false},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.vtIaG2xXYD36M36m"},"scene-packer":{"sourceId":"Macro.vtIaG2xXYD36M36m","hash":"481490f35c5c77185a87143edbc36a67fb2f49ce"}},"_id":"ph0Q4ggmHLhGJPaD"}
{"name":"Randomize all Seeds","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/d20-grey.svg","scope":"global","command":"canvas.scene.updateEmbeddedDocuments(\"Tile\",canvas.tiles.placeables.map((t) => {return {_id: t.id,flags: {\"levels-3d-preview\": {\"randomSeed\": randomID(7)}}}}))","folder":null,"sort":0,"flags":{"socketmacros":{"isSocket":true},"core":{"sourceId":"Macro.pywnVltrcPRfzw25"}},"_id":"rQ5qVGzSMX2WY8XF","ownership":{"default":0,"Cspu3pxFr7tu7SU7":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.288","createdTime":null,"modifiedTime":1667592761510,"lastModifiedBy":"vKtUEgTggj2jn4rS"}}
{"name":"Auto Merge All Tiles","type":"script","scope":"global","author":"vKtUEgTggj2jn4rS","img":"icons/svg/degen.svg","command":"game.Levels3DPreview.UTILS.autoMergeTiles()","ownership":{"default":0,"vKtUEgTggj2jn4rS":3},"flags":{"scene-packer":{"hash":"458c893da03ea8082fd964b69ca473ad333e7391","sourceId":"Macro.xjIpQY1uoTuZiKTE"},"advanced-macros":{"runAsGM":false,"runForEveryone":false,"runForSpecificUser":""},"core":{"sourceId":"Macro.xjIpQY1uoTuZiKTE"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1672596757411,"modifiedTime":1672596830744,"lastModifiedBy":"vKtUEgTggj2jn4rS"},"folder":null,"sort":0,"_id":"reNcJJjUam4mfomu"}
